---
title: "[iOS] MacOS에서 iOS 탈옥하기 (with. AltStore, UnC0ver)"
date: 2023-03-16
draft: false
category: [pentesting]
subcategories: [ios]
tags: [iOS, Pentesting]
---

한동안 iOS 탈옥을 할 일이 없다가 다시 하려고 하니까 그동안 세상이 너무 많이 바뀌었다 ㅋㅋ  
거기다가 회사에서는 맥북을 써서 새로운 탈옥 방법을 정리 해 두려고 한다.  

<!--more-->

내가 사용 한 환경은 다음과 같다.

* iPhone X 
* iOS 14.0.1
* MacOS 12 (Monterey)

완전 탈옥을 하려면 [checkra1n](https://checkra.in/news/2020/09/iOS-14-announcement)을 사용하는게 제일 좋은데, 아쉽게도 내가 테스트해야 하는 앱은 iOS 14미만을 지원하지 않는다 ㅠㅠ  
그런데 `checkra1n`에서는 iOS 14일 경우 기기 종류 제한이 있어서 완전 탈옥을 할 수가 없었다.

그래서 예전에 사용했던 [unc0ver](https://unc0ver.dev/)를 사용해서 반탈옥을 하기로 했다.
예전에는 `3uTools`를 사용했었는데 맥북에서는 다들 [AltStore](https://altstore.io/)를 사용하길래 나도 사용 해 봤다.  

위의 사이트에 접속하면 `AltStore`를 설치할 수 있다.  
설치하고 나면 상단에 아래와 같은 아이콘이 생기는데, 아이폰을 맥북에 연결하고 `Install AltStore`를 선택하면 연결한 기기 목록이 뜬다.  

![](/images/pen-testing/ios/jailbreak2/jail2_01.png)  

기기 목록을 선택하면 아래와 같이 `Apple ID`를 입력하라는 창이 뜬다.
여기에 사용중인 Apple ID를 입력 해 준다.  

![](/images/pen-testing/ios/jailbreak2/jail2_02.png)  

그런데 처음 실행하면 아래와 같은 오류 메시지가 나올 수 있다.  

![](/images/pen-testing/ios/jailbreak2/jail2_03.png)  

```plain
AltServer could not connect to Mail plug-in. Make sure Mail is running and the plug-in is enaabled in Mail's preferences.
```

처음이 나는 이게 무슨 에러인가 했다.
그런데 알고보니 진짜 메일 앱을 실행시키라는 거였다.
맥북에서 `Mail`을 검색하면 아래와 같은 메일 앱을 확인할 수 있다.

![](/images/pen-testing/ios/jailbreak2/jail2_04.png)  

`Mail`앱을 제일 위에 두고 왼쪽 상단을 보면 `Mail` 메뉴가 있는데, 여기서 `환경설정`을 선택한다.

![](/images/pen-testing/ios/jailbreak2/jail2_05.png)  

환경설정에서 `일반` > 하단의 `플러그인 관리...`를 선택한다.

![](/images/pen-testing/ios/jailbreak2/jail2_06.png)  

그러면 아래와 같은 창이 뜰텐데 `AltPlugin.mailbundl`을 선택하고 `적용 및 Mail 재시작`을 선택한다.

![](/images/pen-testing/ios/jailbreak2/jail2_07.png)  

아래와 같은 경고가 뜨겠지만 `접근 허용`을 선택 해 준다.  

![](/images/pen-testing/ios/jailbreak2/jail2_08.png)  

이 후 처음과 같이 아이콘 선택 > Install AltStore > 기기 명 선택 후 Apple ID를 등록하면 기기에 AltStore라는 앱을 확인할 수 있다.
처음에 앱이 기기에 설치되고 바로 실행하면 `신뢰하지 않는 개발자` 에러가 나온다.  

![](/images/pen-testing/ios/jailbreak2/jail2_09.PNG)  

이는 `설정` > `일반` > 하단의 `기기 관리` > `[Apple ID]` 선택 > `[Apple ID]을(를) 신뢰함` > `신뢰`를 선택하면 된다.

![](/images/pen-testing/ios/jailbreak2/jail2_10.PNG)  

다시 기기로 돌아와 하단의 `My Apps` 메뉴를 선택하면 아직은 AltStore 하나만 보일 것이다. 
우리는 탈옥을 위해 Unc0ver를 설치해야 하므로 `Settings` 메뉴로 가서 `Sign in with Apple ID`를 선택하여 Apple ID로 로그인을 한다.

![](/images/pen-testing/ios/jailbreak2/jail2_11.PNG)  

로그인 후 `Safari` 앱으로 [https://unc0ver.dev/](https://unc0ver.dev/)에 접속하면 아래와 같이 Unc0ver를 설치하기 위한 페이지에 접속할 수 있다.
중간에 Download 버튼이 있지만 그 아래에 `Open in AltStore`를 선택하고 알림 창에서 `열기`를 선택한다.

![](/images/pen-testing/ios/jailbreak2/jail2_12.PNG)  

그러면 아래와 같이 AltStore에 `Unc0ver`를 확인할 수 있다. 
기기의 홈으로 가서 확인 해 보면 unc0ver 앱이 설치되어 있을 것이다. 

![](/images/pen-testing/ios/jailbreak2/jail2_13.PNG)  

이제 모든 과정은 끝났고 드디어 탈옥만 하면 된다. 
탈옥 버튼을 누르기 전에 왼쪽 상단의 설정 화면을 눌러 필요한 툴들을 설치하도록 설정하는 것을 잊으면 안된다.
이 후 하단의 `Jailbreak`를 누르면 오른쪽과 같이 프로세스가 진행되고, 기기가 한번재시작된 후 탈옥이 완료 된 것을 볼 수 있다.

![](/images/pen-testing/ios/jailbreak2/jail2_14.PNG)  
